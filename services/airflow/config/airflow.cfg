[core]
dags_folder = /opt/airflow/dags
hostname_callable = airflow.utils.net.getfqdn
default_timezone = Europe/Paris
executor = LocalExecutor
sql_alchemy_conn = postgresql+psycopg2://airflow:airflow@postgres/airflow
parallelism = 32
dag_concurrency = 16
dags_are_paused_at_creation = True
max_active_runs_per_dag = 16
load_examples = False

[scheduler]
dag_dir_list_interval = 300
catchup_by_default = False
max_threads = 2

[webserver]
base_url = http://localhost:8080
web_server_port = 8080
default_ui_timezone = Europe/Paris
workers = 4
worker_timeout = 120
worker_refresh_batch_size = 1
worker_refresh_interval = 30

[logging]
logging_level = INFO
fab_logging_level = WARN
log_filename_template = {{ ti.dag_id }}/{{ ti.task_id }}/{{ ts }}/{{ try_number }}.log
log_processor_filename_template = {{ filename }}.log
dag_processor_manager_log_location = /opt/airflow/logs/dag_processor_manager/dag_processor_manager.log

[email]
email_backend = airflow.utils.email.send_email_smtp

[celery]
worker_concurrency = 16

[operators]
default_owner = airflow
default_cpus = 1
default_ram = 512
default_disk = 512
default_gpus = 0
